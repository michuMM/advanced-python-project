<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Rejestracja</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div class="form-container">
    <button id="go-back" onclick="history.back()">← Wróć</button>
    <h2>Rejestracja</h2>
    <form method="post" enctype="multipart/form-data">
      <!-- Wybór algorytmu -->
      <div class="algorithm-selection">
        <h3>Wybierz algorytm</h3>
        <select name="algorithm" id="algorithm">
          <option value="aes" selected>AES (symetryczny)</option>
          <option value="rsa">RSA (asymetryczny)</option>
          <option value="des">DES (symetryczny)</option>
          <option value="ecc">ECC (asymetryczny)</option>
        </select>
      </div>

      <!-- Wybór typu rejestracji -->
      <div class="input-type-selection">
        <h3>Wybierz typ pliku</h3>
        <select name="media_type" id="inputType">
          <option value="image" selected>Obraz</option>
          <option value="audio">Dźwięk</option>
        </select>
      </div>

      <input type="text" name="username" placeholder="Nazwa użytkownika"><br>

      <!-- Dynamiczne pole pliku -->
      <input type="file" id="fileInput" name="media" accept="image/*"><br>
      <small id="fileHint">Dozwolone formaty: .jpg, .png, .jpeg</small><br><br>

      <input type="submit" value="Zarejestruj">
    </form>

    <!-- Tu pojawi się dynamiczny opis -->
    <div id="algorithm-description" class="algo-description"></div>
  </div>
  
<script>
    const descriptions = {
      aes: "<strong>AES</strong> (Advanced Encryption Standard): nowoczesny i szybki algorytm szyfrowania blokowego, powszechnie używany w praktyce.",
      rsa: "<strong>RSA</strong>: klasyczny algorytm szyfrowania asymetrycznego, bazujący na trudności faktoryzacji dużych liczb.",
      des: "<strong>DES</strong>: starszy algorytm szyfrowania symetrycznego. Uważany za przestarzały, ale nadal edukacyjny.",
      ecc: "<strong>ECC</strong> (Elliptic Curve Cryptography): nowoczesne szyfrowanie asymetryczne, zapewniające wysokie bezpieczeństwo przy krótkich kluczach."
    };

    const select = document.getElementById("algorithm");
    const descriptionDiv = document.getElementById("algorithm-description");

    function updateDescription() {
      const selected = select.value;
      descriptionDiv.innerHTML = descriptions[selected] || "";
    }

    select.addEventListener("change", updateDescription);
    window.addEventListener("DOMContentLoaded", updateDescription); // pokaż domyślny opis na starcie
  </script>
  <script>
    const fileInput = document.getElementById("fileInput");
    const fileHint = document.getElementById("fileHint");
    const inputType = document.getElementById("inputType");

    function updateFileInput() {
      if (inputType.value === "audio") {
        fileInput.accept = ".wav";
        fileHint.textContent = "Dozwolony format: .wav";
      } else {
        fileInput.accept = "image/*";
        fileHint.textContent = "Dozwolone formaty: .jpg, .png, .jpeg";
      }
    }

    inputType.addEventListener("change", updateFileInput);
    window.addEventListener("DOMContentLoaded", updateFileInput);
  </script>
</body>
</html>

